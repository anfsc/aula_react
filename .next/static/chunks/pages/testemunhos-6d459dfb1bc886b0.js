(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{9275:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/testemunhos",function(){return t(3899)}])},3899:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var o=t(5893),s=t(7294),r=t(6085),i=t(948),l=t(7357),d=t(629),a=t(6886),c=t(7957),u=t(3321),h=t(6540),x=t(4895),m=t(2743),p=t(5861),j=t(4546),b=function(e){let{open:n,handleClose:t,handleSubmit:s}=e,r=async e=>{e.preventDefault();let n=new FormData(e.target),t=Object.fromEntries(n.entries());s(t)};return(0,o.jsxs)("div",{children:[n&&(0,o.jsx)("div",{className:"modal-backdrop"}),(0,o.jsx)("div",{children:(0,o.jsx)(m.Z,{sx:{backgroundColor:"white",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,border:"2px solid #000",boxShadow:24,p:4},open:n,onClose:t,children:(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(p.Z,{variant:"h5",component:"h2",mb:2,children:"Adicionar Aluno"}),(0,o.jsxs)("form",{onSubmit:r,children:[(0,o.jsx)(j.Z,{id:"nome",name:"nome",label:"Nome",fullWidth:!0,required:!0}),(0,o.jsx)(j.Z,{id:"about",name:"about",label:"Curso",fullWidth:!0,required:!0}),(0,o.jsx)(j.Z,{id:"description",name:"description",label:"Testemunho",fullWidth:!0,multiline:!0,rows:4,required:!0}),(0,o.jsx)(u.Z,{type:"submit",variant:"contained",sx:{mt:2},children:"Adicionar"})]})]})})})]})},f=function(){let e=(0,s.useContext)(r.wn),[n,t]=(0,s.useState)(!1),m=(0,s.useContext)(r.M8),p=(0,i.ZP)(d.Z)(e=>{let{theme:n}=e;return{backgroundColor:"dark"===n.palette.mode?"#1A2027":"#fff",...n.typography.body2,padding:n.spacing(2),textAlign:"center",color:n.palette.text.secondary}}),j=async e=>{try{let n=await fetch("/api/testemunhos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw console.log(n),Error("Error ao adicionar testemunho");await n.json(),m(e)}catch(e){console.error(e)}setTimeout(()=>t(!1),2e3)};return(0,o.jsxs)(a.ZP,{container:!0,spacing:{xs:2,md:3},columns:{xs:4,sm:8,md:12},children:[null==e?void 0:e.map((e,n)=>(0,o.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,o.jsxs)(p,{children:[(0,o.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",children:[(0,o.jsx)(u.Z,{sx:{backgroundColor:"lightblue"},onClick:()=>t(!0),children:(0,o.jsx)(h.Z,{})}),(0,o.jsx)(u.Z,{sx:{backgroundColor:"lightblue"},children:(0,o.jsx)(c.Z,{})}),(0,o.jsx)(u.Z,{sx:{backgroundColor:"lightblue"},children:(0,o.jsx)(x.Z,{})})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Aluno:"})," ",e.nome," "]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Curso:"})," ",e.about]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("b",{children:"Testemunho:"})," ",e.description]})]})},n)),(0,o.jsx)(b,{open:n,handleClose:()=>t(!1),handleSubmit:j})]})}}},function(e){e.O(0,[886,219,774,888,179],function(){return e(e.s=9275)}),_N_E=e.O()}]);